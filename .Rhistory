grav.read <- grav.read %>% filter(whereTrapped > -1)
# filter to only include those in buffer zone 0
grav.read <- grav.read[which(grav.read$whereTrapped %in% bloop$GID),]
fileplotdata <- grav.read %>% mutate(trapEmptyDay = case_when(timeDeath <= 8 ~ 6,
timeDeath <= 13 ~ 13,
timeDeath <= 20 ~ 20,
timeDeath <= 27 ~ 27,
timeDeath <= 34 ~ 34,
timeDeath <= 41 ~ 41,
timeDeath <= 48 ~ 48,
timeDeath <= 55 ~ 55,
timeDeath <= 62 ~ 62,
timeDeath <= 69 ~ 69,
timeDeath <= 76 ~ 76,
timeDeath <= 83 ~ 83,
timeDeath <= 91 ~ 91,
timeDeath <= 97 ~ 97,
timeDeath <= 104 ~ 104,
timeDeath > 104 ~ 110)) %>%
group_by(trapEmptyDay, infStatus) %>%
summarise(trapped = n()) %>%
mutate(prop = trapped/sum(trapped))
fileplotdata <- fileplotdata %>% filter(infStatus == 1)
#N_graveyard_matrix_0[i] <- fileplotdata$trapped
if(length(fileplotdata$trapped) <= 14){
reps <- 15 - length(fileplotdata$trapped)
longer <- c(rep(0, times = reps), fileplotdata$trapped)
N_graveyard_matrix_0[i] <- longer
rm(longer)
rm(reps)
}else if(length(fileplotdata$trapped) == 15){N_graveyard_matrix_0[i] <- fileplotdata$trapped}
if(length(fileplotdata$prop) <= 14){
reps <- 15 - length(fileplotdata$prop)
longer <- c(rep(0, times = reps), fileplotdata$prop)
prop_graveyard_matrix_0[i] <- longer
rm(longer)
rm(reps)
}else{prop_graveyard_matrix_0[i] <- fileplotdata$prop}
rm(grav.read)
}
prop_grav_0_test <- prop_graveyard_matrix_0
zerovec <- rep(0, times = ncol(prop_grav_0_test))
full_props_0 <- rbind(zerovec, prop_grav_0_test)
#' 4) calculate the average across 100 sims
#' 5) calculate the mean/max to make plot prettier
averageGrav <- rowMeans(full_props_0 )  #average
maxGrav <- apply(full_props_0 [,-1], 1, max) #max
minGrav <- apply(full_props_0 [,-1], 1, min) #min
full_props_0 $averageGrav <- averageGrav
full_props_0 $maxGrav  <- maxGrav
full_props_0 $minGrav <- minGrav
full_props_0  <- bind_cols(full_props_0 [1:15,], plot_buf0)
ggplot(data = full_props_0 , aes(x = plot_dates)) +
geom_ribbon(aes(ymin = minGrav, ymax = maxGrav), alpha = 0.2, fill = JaqQual[3]) +
geom_line(aes(y = minGrav, color = "Min")) +
geom_line(aes(y = maxGrav, color = "Max")) +
geom_line(aes(y = maxprop, color = "Data"), linetype = "dashed") +
geom_line(aes(y = averageGrav, color = "Mean")) +
scale_color_manual(values = colors, name = "Data type") +
xlab("Simulation day") +
ylab("Proportion")
abs(full_props_0$averageGrav - plot_buf0$maxprop)
abs_comparison <- as.data.frame(cbind(abs(full_props_0$averageGrav - plot_buf0$maxprop), trap_days))
colnames(abs_comparison) <- c("Difference", "t")
ggplot(abs_comparison, aes(x = t, y = Difference)) + geom_line(color = JaqQual[2]) +
geom_hline(yintercept = mean(abs_comparison$Difference), color = JaqQual[1], linetype = "dashed")
ggplot(data = full_props_0 , aes(x = plot_dates)) +
geom_ribbon(aes(ymin = minGrav, ymax = maxGrav), alpha = 0.2, fill = JaqQual[3]) +
geom_line(aes(y = minGrav, color = "Min")) +
geom_line(aes(y = maxGrav, color = "Max")) +
geom_line(aes(y = maxprop, color = "Data"), linetype = "dashed") +
geom_line(aes(y = averageGrav, color = "Mean")) +
scale_color_manual(values = colors, name = "Data type") +
xlab("Simulation day") +
ylab("Proportion")
#save plot to file
ggsave("proprandom.png", width = 7, height = 4)
#' ---------------------------------------------
#' one more test.... restrict to buffer 0
#'
#' USE THIS FOR RESULTS! comparing apples with apples is good :)
#'
#' ---------------------------------------------
#'
#'
setwd("~/Documents/masters tomfoolery/modeloutput/microclim/3_partitions/8-01-21/")
#' Get a list of files:
files <- list.files(pattern = "graveyard")
N_graveyard_matrix_0    <- as.data.frame(matrix(nrow = length(plot_dates), ncol = length(files)))
prop_graveyard_matrix_0 <- as.data.frame(matrix(nrow = length(plot_dates), ncol = length(files)))
colnames(N_graveyard_matrix_0)    <- paste0("S", seq(from = 1, to = length(files), by = 1))
colnames(prop_graveyard_matrix_0) <- paste0("S", seq(from = 1, to = length(files), by = 1))
for(i in 1: length(files)){
# read in graveyard file
grav.read <- read_csv(files[i])
#filter to only include trapped mosquitoes
grav.read <- grav.read %>% filter(whereTrapped > -1)
# filter to only include those in buffer zone 0
grav.read <- grav.read[which(grav.read$whereTrapped %in% bloop$GID),]
fileplotdata <- grav.read %>% mutate(trapEmptyDay = case_when(timeDeath <= 8 ~ 6,
timeDeath <= 13 ~ 13,
timeDeath <= 20 ~ 20,
timeDeath <= 27 ~ 27,
timeDeath <= 34 ~ 34,
timeDeath <= 41 ~ 41,
timeDeath <= 48 ~ 48,
timeDeath <= 55 ~ 55,
timeDeath <= 62 ~ 62,
timeDeath <= 69 ~ 69,
timeDeath <= 76 ~ 76,
timeDeath <= 83 ~ 83,
timeDeath <= 91 ~ 91,
timeDeath <= 97 ~ 97,
timeDeath <= 104 ~ 104,
timeDeath > 104 ~ 110)) %>%
group_by(trapEmptyDay, infStatus) %>%
summarise(trapped = n()) %>%
mutate(prop = trapped/sum(trapped))
fileplotdata <- fileplotdata %>% filter(infStatus == 1)
#N_graveyard_matrix_0[i] <- fileplotdata$trapped
if(length(fileplotdata$trapped) <= 14){
reps <- 15 - length(fileplotdata$trapped)
longer <- c(rep(0, times = reps), fileplotdata$trapped)
N_graveyard_matrix_0[i] <- longer
rm(longer)
rm(reps)
}else if(length(fileplotdata$trapped) == 15){N_graveyard_matrix_0[i] <- fileplotdata$trapped}
if(length(fileplotdata$prop) <= 14){
reps <- 15 - length(fileplotdata$prop)
longer <- c(rep(0, times = reps), fileplotdata$prop)
prop_graveyard_matrix_0[i] <- longer
rm(longer)
rm(reps)
}else{prop_graveyard_matrix_0[i] <- fileplotdata$prop}
rm(grav.read)
}
prop_grav_0_test <- prop_graveyard_matrix_0
zerovec <- rep(0, times = ncol(prop_grav_0_test))
full_props_0 <- rbind(zerovec, prop_grav_0_test)
#' 4) calculate the average across 100 sims
#' 5) calculate the mean/max to make plot prettier
averageGrav <- rowMeans(full_props_0 )  #average
maxGrav <- apply(full_props_0 [,-1], 1, max) #max
minGrav <- apply(full_props_0 [,-1], 1, min) #min
full_props_0 $averageGrav <- averageGrav
full_props_0 $maxGrav  <- maxGrav
full_props_0 $minGrav <- minGrav
full_props_0  <- bind_cols(full_props_0 [1:15,], plot_buf0)
ggplot(data = full_props_0 , aes(x = plot_dates)) +
geom_ribbon(aes(ymin = minGrav, ymax = maxGrav), alpha = 0.2, fill = JaqQual[3]) +
geom_line(aes(y = minGrav, color = "Min")) +
geom_line(aes(y = maxGrav, color = "Max")) +
geom_line(aes(y = maxprop, color = "Data"), linetype = "dashed") +
geom_line(aes(y = averageGrav, color = "Mean")) +
scale_color_manual(values = colors, name = "Data type") +
xlab("Simulation day") +
ylab("Proportion")
#save plot to file
ggsave("partitions.png", width = 7, height = 4)
#' ---------------------------------------------
#' one more test.... restrict to buffer 0
#'
#' USE THIS FOR RESULTS! comparing apples with apples is good :)
#'
#' ---------------------------------------------
#'
#'
#setwd("~/Documents/masters tomfoolery/modeloutput/microclim/3_partitions/8-01-21/")
#setwd("~/Documents/masters tomfoolery/modeloutput/microclim/2_proportionalrandom/7-01-21/")
setwd("~/Documents/masters tomfoolery/modeloutput/microclim/realistic/7-01-21/")
#' Get a list of files:
files <- list.files(pattern = "graveyard")
N_graveyard_matrix_0    <- as.data.frame(matrix(nrow = length(plot_dates), ncol = length(files)))
prop_graveyard_matrix_0 <- as.data.frame(matrix(nrow = length(plot_dates), ncol = length(files)))
colnames(N_graveyard_matrix_0)    <- paste0("S", seq(from = 1, to = length(files), by = 1))
colnames(prop_graveyard_matrix_0) <- paste0("S", seq(from = 1, to = length(files), by = 1))
for(i in 1: length(files)){
# read in graveyard file
grav.read <- read_csv(files[i])
#filter to only include trapped mosquitoes
grav.read <- grav.read %>% filter(whereTrapped > -1)
# filter to only include those in buffer zone 0
grav.read <- grav.read[which(grav.read$whereTrapped %in% bloop$GID),]
fileplotdata <- grav.read %>% mutate(trapEmptyDay = case_when(timeDeath <= 8 ~ 6,
timeDeath <= 13 ~ 13,
timeDeath <= 20 ~ 20,
timeDeath <= 27 ~ 27,
timeDeath <= 34 ~ 34,
timeDeath <= 41 ~ 41,
timeDeath <= 48 ~ 48,
timeDeath <= 55 ~ 55,
timeDeath <= 62 ~ 62,
timeDeath <= 69 ~ 69,
timeDeath <= 76 ~ 76,
timeDeath <= 83 ~ 83,
timeDeath <= 91 ~ 91,
timeDeath <= 97 ~ 97,
timeDeath <= 104 ~ 104,
timeDeath > 104 ~ 110)) %>%
group_by(trapEmptyDay, infStatus) %>%
summarise(trapped = n()) %>%
mutate(prop = trapped/sum(trapped))
fileplotdata <- fileplotdata %>% filter(infStatus == 1)
#N_graveyard_matrix_0[i] <- fileplotdata$trapped
if(length(fileplotdata$trapped) <= 14){
reps <- 15 - length(fileplotdata$trapped)
longer <- c(rep(0, times = reps), fileplotdata$trapped)
N_graveyard_matrix_0[i] <- longer
rm(longer)
rm(reps)
}else if(length(fileplotdata$trapped) == 15){N_graveyard_matrix_0[i] <- fileplotdata$trapped}
if(length(fileplotdata$prop) <= 14){
reps <- 15 - length(fileplotdata$prop)
longer <- c(rep(0, times = reps), fileplotdata$prop)
prop_graveyard_matrix_0[i] <- longer
rm(longer)
rm(reps)
}else{prop_graveyard_matrix_0[i] <- fileplotdata$prop}
rm(grav.read)
}
prop_grav_0_test <- prop_graveyard_matrix_0
zerovec <- rep(0, times = ncol(prop_grav_0_test))
full_props_0 <- rbind(zerovec, prop_grav_0_test)
#' 4) calculate the average across 100 sims
#' 5) calculate the mean/max to make plot prettier
averageGrav <- rowMeans(full_props_0 )  #average
maxGrav <- apply(full_props_0 [,-1], 1, max) #max
minGrav <- apply(full_props_0 [,-1], 1, min) #min
full_props_0 $averageGrav <- averageGrav
full_props_0 $maxGrav  <- maxGrav
full_props_0 $minGrav <- minGrav
full_props_0  <- bind_cols(full_props_0 [1:15,], plot_buf0)
ggplot(data = full_props_0 , aes(x = plot_dates)) +
geom_ribbon(aes(ymin = minGrav, ymax = maxGrav), alpha = 0.2, fill = JaqQual[3]) +
geom_line(aes(y = minGrav, color = "Min")) +
geom_line(aes(y = maxGrav, color = "Max")) +
geom_line(aes(y = maxprop, color = "Data"), linetype = "dashed") +
geom_line(aes(y = averageGrav, color = "Mean")) +
scale_color_manual(values = colors, name = "Data type") +
xlab("Simulation day") +
ylab("Proportion")
#' one more test.... restrict to buffer 0
#'
#' USE THIS FOR RESULTS! comparing apples with apples is good :)
#'
#' ---------------------------------------------
#'
#'
#setwd("~/Documents/masters tomfoolery/modeloutput/microclim/3_partitions/8-01-21/")
#setwd("~/Documents/masters tomfoolery/modeloutput/microclim/2_proportionalrandom/7-01-21/")
#setwd("~/Documents/masters tomfoolery/modeloutput/microclim/realistic/7-01-21/")
setwd("~/Documents/masters tomfoolery/modeloutput/microclim/1_uniformrandom/7-01-21/")
#save plot to file
ggsave("realistic.png", width = 7, height = 4)
N_graveyard_matrix_0    <- as.data.frame(matrix(nrow = length(plot_dates), ncol = length(files)))
prop_graveyard_matrix_0 <- as.data.frame(matrix(nrow = length(plot_dates), ncol = length(files)))
colnames(N_graveyard_matrix_0)    <- paste0("S", seq(from = 1, to = length(files), by = 1))
colnames(prop_graveyard_matrix_0) <- paste0("S", seq(from = 1, to = length(files), by = 1))
for(i in 1: length(files)){
# read in graveyard file
grav.read <- read_csv(files[i])
#filter to only include trapped mosquitoes
grav.read <- grav.read %>% filter(whereTrapped > -1)
# filter to only include those in buffer zone 0
grav.read <- grav.read[which(grav.read$whereTrapped %in% bloop$GID),]
fileplotdata <- grav.read %>% mutate(trapEmptyDay = case_when(timeDeath <= 8 ~ 6,
timeDeath <= 13 ~ 13,
timeDeath <= 20 ~ 20,
timeDeath <= 27 ~ 27,
timeDeath <= 34 ~ 34,
timeDeath <= 41 ~ 41,
timeDeath <= 48 ~ 48,
timeDeath <= 55 ~ 55,
timeDeath <= 62 ~ 62,
timeDeath <= 69 ~ 69,
timeDeath <= 76 ~ 76,
timeDeath <= 83 ~ 83,
timeDeath <= 91 ~ 91,
timeDeath <= 97 ~ 97,
timeDeath <= 104 ~ 104,
timeDeath > 104 ~ 110)) %>%
group_by(trapEmptyDay, infStatus) %>%
summarise(trapped = n()) %>%
mutate(prop = trapped/sum(trapped))
fileplotdata <- fileplotdata %>% filter(infStatus == 1)
#N_graveyard_matrix_0[i] <- fileplotdata$trapped
if(length(fileplotdata$trapped) <= 14){
reps <- 15 - length(fileplotdata$trapped)
longer <- c(rep(0, times = reps), fileplotdata$trapped)
N_graveyard_matrix_0[i] <- longer
rm(longer)
rm(reps)
}else if(length(fileplotdata$trapped) == 15){N_graveyard_matrix_0[i] <- fileplotdata$trapped}
if(length(fileplotdata$prop) <= 14){
reps <- 15 - length(fileplotdata$prop)
longer <- c(rep(0, times = reps), fileplotdata$prop)
prop_graveyard_matrix_0[i] <- longer
rm(longer)
rm(reps)
}else{prop_graveyard_matrix_0[i] <- fileplotdata$prop}
rm(grav.read)
}
#' one more test.... restrict to buffer 0
#'
#' USE THIS FOR RESULTS! comparing apples with apples is good :)
#'
#' ---------------------------------------------
#'
#'
#setwd("~/Documents/masters tomfoolery/modeloutput/microclim/3_partitions/8-01-21/")
#setwd("~/Documents/masters tomfoolery/modeloutput/microclim/2_proportionalrandom/7-01-21/")
#setwd("~/Documents/masters tomfoolery/modeloutput/microclim/realistic/7-01-21/")
setwd("~/Documents/masters tomfoolery/modeloutput/microclim/1_uniformrandom/7-01-21/")
#' Get a list of files:
files <- list.files(pattern = "graveyard")
N_graveyard_matrix_0    <- as.data.frame(matrix(nrow = length(plot_dates), ncol = length(files)))
prop_graveyard_matrix_0 <- as.data.frame(matrix(nrow = length(plot_dates), ncol = length(files)))
colnames(N_graveyard_matrix_0)    <- paste0("S", seq(from = 1, to = length(files), by = 1))
colnames(prop_graveyard_matrix_0) <- paste0("S", seq(from = 1, to = length(files), by = 1))
for(i in 1: length(files)){
# read in graveyard file
grav.read <- read_csv(files[i])
#filter to only include trapped mosquitoes
grav.read <- grav.read %>% filter(whereTrapped > -1)
# filter to only include those in buffer zone 0
grav.read <- grav.read[which(grav.read$whereTrapped %in% bloop$GID),]
fileplotdata <- grav.read %>% mutate(trapEmptyDay = case_when(timeDeath <= 8 ~ 6,
timeDeath <= 13 ~ 13,
timeDeath <= 20 ~ 20,
timeDeath <= 27 ~ 27,
timeDeath <= 34 ~ 34,
timeDeath <= 41 ~ 41,
timeDeath <= 48 ~ 48,
timeDeath <= 55 ~ 55,
timeDeath <= 62 ~ 62,
timeDeath <= 69 ~ 69,
timeDeath <= 76 ~ 76,
timeDeath <= 83 ~ 83,
timeDeath <= 91 ~ 91,
timeDeath <= 97 ~ 97,
timeDeath <= 104 ~ 104,
timeDeath > 104 ~ 110)) %>%
group_by(trapEmptyDay, infStatus) %>%
summarise(trapped = n()) %>%
mutate(prop = trapped/sum(trapped))
fileplotdata <- fileplotdata %>% filter(infStatus == 1)
#N_graveyard_matrix_0[i] <- fileplotdata$trapped
if(length(fileplotdata$trapped) <= 14){
reps <- 15 - length(fileplotdata$trapped)
longer <- c(rep(0, times = reps), fileplotdata$trapped)
N_graveyard_matrix_0[i] <- longer
rm(longer)
rm(reps)
}else if(length(fileplotdata$trapped) == 15){N_graveyard_matrix_0[i] <- fileplotdata$trapped}
if(length(fileplotdata$prop) <= 14){
reps <- 15 - length(fileplotdata$prop)
longer <- c(rep(0, times = reps), fileplotdata$prop)
prop_graveyard_matrix_0[i] <- longer
rm(longer)
rm(reps)
}else{prop_graveyard_matrix_0[i] <- fileplotdata$prop}
rm(grav.read)
}
prop_grav_0_test <- prop_graveyard_matrix_0
zerovec <- rep(0, times = ncol(prop_grav_0_test))
full_props_0 <- rbind(zerovec, prop_grav_0_test)
#' 4) calculate the average across 100 sims
#' 5) calculate the mean/max to make plot prettier
averageGrav <- rowMeans(full_props_0 )  #average
maxGrav <- apply(full_props_0 [,-1], 1, max) #max
minGrav <- apply(full_props_0 [,-1], 1, min) #min
full_props_0 $averageGrav <- averageGrav
full_props_0 $maxGrav  <- maxGrav
full_props_0 $minGrav <- minGrav
full_props_0  <- bind_cols(full_props_0 [1:15,], plot_buf0)
ggplot(data = full_props_0 , aes(x = plot_dates)) +
geom_ribbon(aes(ymin = minGrav, ymax = maxGrav), alpha = 0.2, fill = JaqQual[3]) +
geom_line(aes(y = minGrav, color = "Min")) +
geom_line(aes(y = maxGrav, color = "Max")) +
geom_line(aes(y = maxprop, color = "Data"), linetype = "dashed") +
geom_line(aes(y = averageGrav, color = "Mean")) +
scale_color_manual(values = colors, name = "Data type") +
xlab("Simulation day") +
ylab("Proportion")
#save plot to file
ggsave("uniformrandom.png", width = 7, height = 4)
#save plot to file
ggsave("uniformrandom.png", width = 7, height = 4)
#' ---------------------------------------------
#' one more test.... restrict to buffer 0
#'
#' USE THIS FOR RESULTS! comparing apples with apples is good :)
#'
#' ---------------------------------------------
#'
#'
#setwd("~/Documents/masters tomfoolery/modeloutput/microclim/3_partitions/8-01-21/")
#setwd("~/Documents/masters tomfoolery/modeloutput/microclim/2_proportionalrandom/7-01-21/")
setwd("~/Documents/masters tomfoolery/modeloutput/microclim/realistic/7-01-21/")
#' Get a list of files:
files <- list.files(pattern = "graveyard")
N_graveyard_matrix_0    <- as.data.frame(matrix(nrow = length(plot_dates), ncol = length(files)))
prop_graveyard_matrix_0 <- as.data.frame(matrix(nrow = length(plot_dates), ncol = length(files)))
colnames(N_graveyard_matrix_0)    <- paste0("S", seq(from = 1, to = length(files), by = 1))
colnames(prop_graveyard_matrix_0) <- paste0("S", seq(from = 1, to = length(files), by = 1))
for(i in 1: length(files)){
# read in graveyard file
grav.read <- read_csv(files[i])
#filter to only include trapped mosquitoes
grav.read <- grav.read %>% filter(whereTrapped > -1)
# filter to only include those in buffer zone 0
grav.read <- grav.read[which(grav.read$whereTrapped %in% bloop$GID),]
fileplotdata <- grav.read %>% mutate(trapEmptyDay = case_when(timeDeath <= 8 ~ 6,
timeDeath <= 13 ~ 13,
timeDeath <= 20 ~ 20,
timeDeath <= 27 ~ 27,
timeDeath <= 34 ~ 34,
timeDeath <= 41 ~ 41,
timeDeath <= 48 ~ 48,
timeDeath <= 55 ~ 55,
timeDeath <= 62 ~ 62,
timeDeath <= 69 ~ 69,
timeDeath <= 76 ~ 76,
timeDeath <= 83 ~ 83,
timeDeath <= 91 ~ 91,
timeDeath <= 97 ~ 97,
timeDeath <= 104 ~ 104,
timeDeath > 104 ~ 110)) %>%
group_by(trapEmptyDay, infStatus) %>%
summarise(trapped = n()) %>%
mutate(prop = trapped/sum(trapped))
fileplotdata <- fileplotdata %>% filter(infStatus == 1)
#N_graveyard_matrix_0[i] <- fileplotdata$trapped
if(length(fileplotdata$trapped) <= 14){
reps <- 15 - length(fileplotdata$trapped)
longer <- c(rep(0, times = reps), fileplotdata$trapped)
N_graveyard_matrix_0[i] <- longer
rm(longer)
rm(reps)
}else if(length(fileplotdata$trapped) == 15){N_graveyard_matrix_0[i] <- fileplotdata$trapped}
if(length(fileplotdata$prop) <= 14){
reps <- 15 - length(fileplotdata$prop)
longer <- c(rep(0, times = reps), fileplotdata$prop)
prop_graveyard_matrix_0[i] <- longer
rm(longer)
rm(reps)
}else{prop_graveyard_matrix_0[i] <- fileplotdata$prop}
rm(grav.read)
}
prop_grav_0_test <- prop_graveyard_matrix_0
zerovec <- rep(0, times = ncol(prop_grav_0_test))
full_props_0 <- rbind(zerovec, prop_grav_0_test)
#' 4) calculate the average across 100 sims
#' 5) calculate the mean/max to make plot prettier
averageGrav <- rowMeans(full_props_0 )  #average
maxGrav <- apply(full_props_0 [,-1], 1, max) #max
minGrav <- apply(full_props_0 [,-1], 1, min) #min
full_props_0 $averageGrav <- averageGrav
full_props_0 $maxGrav  <- maxGrav
full_props_0 $minGrav <- minGrav
full_props_0  <- bind_cols(full_props_0 [1:15,], plot_buf0)
ggplot(data = full_props_0 , aes(x = plot_dates)) +
geom_ribbon(aes(ymin = minGrav, ymax = maxGrav), alpha = 0.2, fill = JaqQual[3]) +
geom_line(aes(y = minGrav, color = "Min")) +
geom_line(aes(y = maxGrav, color = "Max")) +
geom_line(aes(y = maxprop, color = "Data"), linetype = "dashed") +
geom_line(aes(y = averageGrav, color = "Mean")) +
scale_color_manual(values = colors, name = "Data type") +
xlab("Simulation day") +
ylab("Proportion")
#save plot to file
ggsave("uniformrandom.png", width = 7, height = 4)
View(full_props_0)
#'removing a 0 column
full_props_0 <- full_props_0 %>% select(!(name:S3))
#'removing a 0 column
full_props_0 <- full_props_0 %>% select(!(S3))
ggplot(data = full_props_0 , aes(x = plot_dates)) +
geom_ribbon(aes(ymin = minGrav, ymax = maxGrav), alpha = 0.2, fill = JaqQual[3]) +
geom_line(aes(y = minGrav, color = "Min")) +
geom_line(aes(y = maxGrav, color = "Max")) +
geom_line(aes(y = maxprop, color = "Data"), linetype = "dashed") +
geom_line(aes(y = averageGrav, color = "Mean")) +
scale_color_manual(values = colors, name = "Data type") +
xlab("Simulation day") +
ylab("Proportion")
prop_grav_0_test <- prop_graveyard_matrix_0
zerovec <- rep(0, times = ncol(prop_grav_0_test))
full_props_0 <- rbind(zerovec, prop_grav_0_test)
#'removing a 0 column
full_props_0 <- full_props_0 %>% select(!(S3))
#' 4) calculate the average across 100 sims
#' 5) calculate the mean/max to make plot prettier
averageGrav <- rowMeans(full_props_0 )  #average
maxGrav <- apply(full_props_0 [,-1], 1, max) #max
minGrav <- apply(full_props_0 [,-1], 1, min) #min
full_props_0 $averageGrav <- averageGrav
full_props_0 $maxGrav  <- maxGrav
full_props_0 $minGrav <- minGrav
full_props_0  <- bind_cols(full_props_0 [1:15,], plot_buf0)
ggplot(data = full_props_0 , aes(x = plot_dates)) +
geom_ribbon(aes(ymin = minGrav, ymax = maxGrav), alpha = 0.2, fill = JaqQual[3]) +
geom_line(aes(y = minGrav, color = "Min")) +
geom_line(aes(y = maxGrav, color = "Max")) +
geom_line(aes(y = maxprop, color = "Data"), linetype = "dashed") +
geom_line(aes(y = averageGrav, color = "Mean")) +
scale_color_manual(values = colors, name = "Data type") +
xlab("Simulation day") +
ylab("Proportion")
#save plot to file
ggsave("uniformrandom.png", width = 7, height = 4)
dailyTemps
